/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/Log"],function(q,L){"use strict";var t;var l={};var a=null;var b=["sap.ui.demokit","sap.ui.documentation"];var c=["themelib_"];function g(){if(l["index"]){return Promise.resolve(l["index"]);}return new Promise(function(r,m){q.ajax({async:true,url:"./docs/api/api-index.json",dataType:'json',success:function(R){var n=R.symbols||[];l["index"]=n;r(n);},error:function(){L.error("failed to load api-index.json");l["index"]=[];r([]);}});});}function d(){if(l["deprecated"]){return Promise.resolve(l["deprecated"]);}return new Promise(function(r,m){q.ajax({async:true,url:"./docs/api/api-index-deprecated.json",dataType:'json',success:function(R){l["deprecated"]=R;r(R);},error:function(){m();}});});}function e(){if(l["experimental"]){return Promise.resolve(l["experimental"]);}return new Promise(function(r,m){q.ajax({async:true,url:"./docs/api/api-index-experimental.json",dataType:'json',success:function(R){l["experimental"]=R;r(R);},error:function(){m();}});});}function f(){if(l["since"]){return Promise.resolve(l["since"]);}return new Promise(function(r,m){q.ajax({async:true,url:"./docs/api/api-index-since.json",dataType:'json',success:function(R){l["since"]=R;r(R);},error:function(){m();}});});}function h(m){var r=[];if(!m){return r;}if(l[m]){return l[m];}q.ajax({async:false,url:t+m.replace(/\./g,'/')+'/designtime/apiref/api.json',dataType:'json',success:function(R){r=R.symbols;},error:function(){r=[];L.error("failed to load api.json for: "+m);}});l[m]=r;return r;}function i(m){if(!m){return Promise.resolve([]);}if(l[m]){return Promise.resolve(l[m]);}return new Promise(function(r){q.ajax({async:true,url:t+m.replace(/\./g,'/')+'/designtime/apiref/api.json',dataType:'json',success:function(R){var n=R.symbols||[];l[m]=n;r(n);},error:function(n){L.error("failed to load api.json for: "+m);l[m]=[];r([]);}});});}function j(o){var I=b.indexOf(o.name)!==-1;var S=c.some(function(p){return o.name.indexOf(p)===0;});return!I&&!S;}function k(m){if(a){return a;}m=m||sap.ui.getVersionInfo().libraries||[];m=m.filter(j);var p=m.map(function(o){return i(o.name);});a=Promise.all(p);return a;}function s(r){r=r==null?sap.ui.require.toUrl("")+"/"+'../test-resources/':r;if(r.slice(-1)!='/'){r+='/';}t=r;}s();return{_setRoot:s,getIndexJsonPromise:g,getDeprecatedPromise:d,getExperimentalPromise:e,getSincePromise:f,getLibraryElementsJSONSync:h,getLibraryElementsJSONPromise:i,getAllLibrariesElementsJSONPromise:k};});
